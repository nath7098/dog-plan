import{O as S,U as I,f as A,ac as Q,h as B,an as q,n as j,o as _,w as n,p as P,R as U,q as a,P as N,r as D,M as T,a as s,b as t,X as O,c as h,S as G,T as L,V as z,ai as W,aj as Y,d as b,Q as E,W as K,t as $}from"./Dzi8umfP.js";import{_ as X}from"./CQ8s7Wyw.js";import{_ as F}from"./C276zIUw.js";import{_ as J,a as Z}from"./DS4ifJwk.js";import{$ as ee,a as ae}from"./D6ATwwEs.js";import{$ as te}from"./C0hhXVF1.js";import{D as le}from"./CR7Q8EfN.js";import{u as ne}from"./BsYNtWxF.js";import{u as oe}from"./4z8zRpvv.js";import{c as re,a as se}from"./Bk2ha_xb.js";import"./DqVSHWi_.js";import"./BNMRaVlq.js";import"./UpvGFBYd.js";import"./BLnvvzK4.js";import"./B5rxJs06.js";const ue={base:"relative",variants:{size:{xs:"",sm:"",md:"",lg:"",xl:""},orientation:{horizontal:"inline-flex -space-x-px",vertical:"flex flex-col -space-y-px"}}},ie=I;var R;const de=S({extend:S(ue),...(R=ie.ui)==null?void 0:R.buttonGroup}),ce=A({__name:"ButtonGroup",props:{as:{},size:{},orientation:{default:"horizontal"},class:{}},setup(u){const c=u;return Q(q,B(()=>({orientation:c.orientation,size:c.size}))),(m,x)=>(_(),j(a(N),{as:m.as,class:U(a(de)({orientation:m.orientation,class:c.class}))},{default:n(()=>[P(m.$slots,"default")]),_:3},8,["as","class"]))}}),me=Object.assign(ce,{__name:"UButtonGroup"}),pe={class:"mb-4 flex justify-center"},fe={class:"grid grid-cols-4 gap-3"},be=["onClick"],_e=A({__name:"DAvatarSelector",props:{modelValue:{type:String,default:""},avatars:{type:Array,default:()=>[{fileURL:"https://images.unsplash.com/photo-1678818546240-2702b53da4da?q=80&w=1934&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",file:null}]},defaultAvatar:{type:String,default:""}},emits:["update:modelValue"],setup(u,{emit:c}){const m=u,x=c,y=D(null),k=T(m.avatars),e=i=>{x("update:modelValue",{fileURL:i.fileURL,file:i.file})},w=()=>{y.value.click()},V=i=>{const p=i.target.files[0];if(!p)return;const r=URL.createObjectURL(p);k.value.push({fileURL:r,file:p}),x("update:modelValue",{fileURL:r,file:p}),i.target.value=""};return(i,p)=>{const r=O,l=z,v=F;return _(),j(v,{label:"Photo",name:"avatar"},{default:n(()=>[s("div",pe,[t(r,{src:u.modelValue||u.defaultAvatar&&u.defaultAvatar!="",icon:"i-fluent-animal-dog-16-regular",size:"2xl",class:"shadow-sm",ui:{rounded:"rounded-xl"}},null,8,["src"])]),s("div",fe,[(_(!0),h(G,null,L(a(k),d=>(_(),h("div",{key:d,class:U(["cursor-pointer rounded-lg p-1 border-2 transition-all duration-200 transform hover:scale-105",u.modelValue===d.fileURL?"border-primary-500 bg-primary-50":"border-transparent hover:border-neutral-200"]),onClick:f=>e(d)},[t(r,{src:d.fileURL,size:"lg",ui:{rounded:"rounded-lg"}},null,8,["src"])],10,be))),128)),s("div",{class:"cursor-pointer rounded-lg p-1 border-2 border-dashed border-neutral-300 flex items-center justify-center hover:bg-neutral-50 transition-colors duration-200",onClick:w},[t(l,{name:"i-lucide-upload",class:"text-2xl text-neutral-500"}),s("input",{type:"file",ref_key:"fileInput",ref:y,accept:"image/*",class:"hidden",onChange:V},null,544)])])]),_:1})}}}),ve=Object.assign(_e,{__name:"CustomDAvatarSelector"}),ge={class:"p-8 max-w-4xl mx-auto"},xe={class:"mb-12 text-3xl font-bold text-neutral-500/80! dark:text-neutral-400/80!"},he={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ye={class:"flex flex-col gap-6"},ke={key:0,class:"text-sm text-neutral-500 mt-1"},De={class:"flex flex-col gap-6"},Ue={class:"flex justify-end mt-8"},Qe=A({__name:"nouveau",setup(u){ne(),W();const c=new te("fr-FR",{dateStyle:"medium"}),m=D(ee()),x=Y(),y=oe(),k=D([{fileURL:"https://images.unsplash.com/photo-1678818546240-2702b53da4da?q=80&w=1934&auto=format&fit=crop&ixlib=rb-4.0.3&ixid=M3wxMjA3fDB8MHxwaG90by1wYWdlfHx8fGVufDB8fHx8fA%3D%3D",file:null}]),e=D({name:"",birthDate:null,gender:null,type:"Dog",weight:null,mealQuantity:null,avatar:{fileURL:"",file:null}}),w=[{value:"Dog",label:"Chien",icon:"i-fluent-animal-dog-16-regular"}],V=B(()=>{if(!e.value||!e.value.birthDate)return"";const r=re(e.value.birthDate.toString());return se(r)}),i=r=>{e.value.avatar=r},p=async()=>{!e.value.name||!e.value.birthDate||(await y.addAnimal({name:e.value.name,birthDate:e.value.birthDate.toString(),gender:e.value.gender,type:e.value.type,weight:e.value.weight,mealQuantity:e.value.mealQuantity,weightHistory:e.value.weight?[e.value.weight]:[]},e.value.avatar),x.push("/"))};return(r,l)=>{const v=z,d=X,f=F,g=K,M=Z,H=J,C=me;return _(),h("div",ge,[t(le,null,{default:n(()=>[s("h1",xe,[t(v,{name:"i-tabler-paw",class:"text-amber-500"}),l[6]||(l[6]=b(" Votre nouveau compagnon"))]),s("div",he,[s("div",ye,[t(f,{label:"Nom",required:""},{default:n(()=>[t(d,{modelValue:a(e).name,"onUpdate:modelValue":l[0]||(l[0]=o=>a(e).name=o),color:"neutral",class:"w-full",placeholder:"Saphyr",ui:{base:"bg-transparent backdrop-blur-sm placeholder:text-neutral-700 dark:placeholder:text-neutral-300"}},null,8,["modelValue"])]),_:1}),t(f,{label:"Date de naissance",required:""},{default:n(()=>[t(H,null,{content:n(()=>[t(M,{modelValue:a(e).birthDate,"onUpdate:modelValue":l[1]||(l[1]=o=>a(e).birthDate=o),"max-value":a(m),class:"p-2"},null,8,["modelValue","max-value"])]),default:n(()=>[t(g,{variant:"outline",color:"neutral",icon:"i-lucide-calendar",class:"w-full bg-transparent! backdrop-blur-sm"},{default:n(()=>[b($(a(e).birthDate?a(c).format(a(e).birthDate.toDate(a(ae)())):"Select a date"),1)]),_:1})]),_:1}),a(e).birthDate?(_(),h("p",ke,$(a(V)),1)):E("",!0)]),_:1}),t(f,{label:"Poids (kg)"},{default:n(()=>[t(d,{modelValue:a(e).weight,"onUpdate:modelValue":l[2]||(l[2]=o=>a(e).weight=o),color:"neutral",class:"w-full",type:"number",step:"0.1",placeholder:"31",ui:{base:"bg-transparent backdrop-blur-sm placeholder:text-neutral-700 dark:placeholder:text-neutral-300"}},null,8,["modelValue"])]),_:1}),t(f,{label:"Quantité de croquettes (g/jour)"},{default:n(()=>[t(d,{modelValue:a(e).mealQuantity,"onUpdate:modelValue":l[3]||(l[3]=o=>a(e).mealQuantity=o),color:"neutral",class:"w-full",type:"number",placeholder:"309",ui:{base:"bg-transparent backdrop-blur-sm placeholder:text-neutral-700 dark:placeholder:text-neutral-300"}},null,8,["modelValue"])]),_:1})]),s("div",De,[t(f,{label:"Type d'animal"},{default:n(()=>[t(C,{block:"",class:"w-full"},{default:n(()=>[(_(),h(G,null,L(w,o=>t(g,{key:o.value,onClick:we=>a(e).type=o.value,variant:a(e).type===o.value?"solid":"outline",color:"neutral"},{default:n(()=>[t(v,{name:o.icon,class:"mr-2"},null,8,["name"]),b(" "+$(o.label),1)]),_:2},1032,["onClick","variant"])),64))]),_:1})]),_:1}),t(f,{label:"Genre"},{default:n(()=>[t(C,{block:"",class:"w-full"},{default:n(()=>[t(g,{onClick:l[4]||(l[4]=o=>a(e).gender="male"),class:U(["bg-transparent! backdrop-blur-sm",a(e).gender==="male"?"text-blue-500":""]),variant:a(e).gender==="male"?"solid":"outline",color:"neutral"},{default:n(()=>[t(v,{name:"i-ic-baseline-male",class:"mr-2"}),l[7]||(l[7]=b(" Mâle "))]),_:1},8,["class","variant"]),t(g,{onClick:l[5]||(l[5]=o=>a(e).gender="female"),class:U(["bg-transparent! backdrop-blur-sm",a(e).gender==="female"?"text-pink-500":""]),variant:a(e).gender==="female"?"solid":"outline",color:"neutral"},{default:n(()=>[t(v,{name:"i-ic-baseline-female",class:"mr-2"}),l[8]||(l[8]=b(" Femelle "))]),_:1},8,["class","variant"])]),_:1})]),_:1}),t(ve,{"model-value":a(e).avatar.fileURL,avatars:a(k),"onUpdate:modelValue":i},null,8,["model-value","avatars"])])]),s("div",Ue,[t(g,{color:"neutral",variant:"link",to:"/",class:"mr-4 text-neutral-800! dark:text-neutral-100! rounded-lg backdrop-blur-sm ring-2 ring-neutral-100/20 dark:ring-neutral-700/20"},{default:n(()=>l[9]||(l[9]=[b(" Annuler ")])),_:1}),t(g,{color:"primary",disabled:!a(e).name||!a(e).birthDate,onClick:p},{default:n(()=>l[10]||(l[10]=[b(" Ajouter à la famille ")])),_:1},8,["disabled"])])]),_:1})])}}});export{Qe as default};
