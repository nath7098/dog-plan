import{aB as Y,h as D,n as d,o as n,w as l,b as s,a as y,V as C,t as E,R as p,q as i,e as W,f as Z,y as ee,al as ne,F as ae,aA as re,aI as te,c as $,S as M,p as z,G as le,v as S,T as V,a4 as N,aJ as ie,aK as ce,aL as de,aM as ue,aN as ge,Q as U,X as G,d as pe,O as F,L as me,M as J,N as be,I as Q,J as X,U as fe,a1 as he,ai as ye,W as ve,a9 as xe}from"./Dzi8umfP.js";import{D as k,b as _e,c as ke,d as Ie}from"./C0hhXVF1.js";import{c as Le}from"./BrpAWIEN.js";import{U as we}from"./DW5m1xOE.js";import{u as Se}from"./BsYNtWxF.js";import"./D6ATwwEs.js";import"./DqVSHWi_.js";import"./BNMRaVlq.js";import"./UpvGFBYd.js";import"./BLnvvzK4.js";import"./B5rxJs06.js";const ze={__name:"DNavLink",props:{to:{type:String,required:!0},icon:{type:String,required:!0},label:{type:String,required:!0}},setup(g){const r=g,o=Y(),w=D(()=>o.path===r.to||r.to!=="/"&&o.path.startsWith(r.to));return(v,I)=>{const f=C,m=W;return n(),d(m,{to:g.to,class:p(["relative flex items-center gap-2 px-4 py-2 rounded-full text-gray-700 dark:text-gray-300 hover:bg-gray-100/20 dark:hover:bg-neutral-500/20 transition-all",{"text-amber-600! dark:text-amber-400! font-extrabold hover:bg-amber-100/20! dark:hover:bg-amber-900/40!":i(w)}])},{default:l(()=>[s(f,{name:g.icon,class:"h-5 w-5"},null,8,["name"]),y("span",null,E(g.label),1)]),_:1},8,["to","class"])}}},oe={slots:{content:"min-w-32 bg-(--ui-bg) shadow-lg rounded-[calc(var(--ui-radius)*1.5)] ring ring-(--ui-border) divide-y divide-(--ui-border) overflow-y-auto scroll-py-1 data-[state=open]:animate-[scale-in_100ms_ease-out] data-[state=closed]:animate-[scale-out_100ms_ease-in]",arrow:"fill-(--ui-border)",group:"p-1 isolate",label:"w-full flex items-center font-semibold text-(--ui-text-highlighted)",separator:"-mx-1 my-1 h-px bg-(--ui-border)",item:"group relative w-full flex items-center select-none outline-none before:absolute before:z-[-1] before:inset-px before:rounded-[calc(var(--ui-radius)*1.5)] data-disabled:cursor-not-allowed data-disabled:opacity-75",itemLeadingIcon:"shrink-0",itemLeadingAvatar:"shrink-0",itemLeadingAvatarSize:"",itemTrailing:"ms-auto inline-flex gap-1.5 items-center",itemTrailingIcon:"shrink-0",itemTrailingKbds:"hidden lg:inline-flex items-center shrink-0",itemTrailingKbdsSize:"",itemLabel:"truncate",itemLabelExternalIcon:"inline-block size-3 align-top text-(--ui-text-dimmed)"},variants:{color:{primary:"",secondary:"",success:"",info:"",warning:"",error:"",neutral:""},active:{true:{item:"text-(--ui-text-highlighted) before:bg-(--ui-bg-elevated)",itemLeadingIcon:"text-(--ui-text)"},false:{item:["text-(--ui-text) data-highlighted:text-(--ui-text-highlighted) data-[state=open]:text-(--ui-text-highlighted) data-highlighted:before:bg-(--ui-bg-elevated)/50 data-[state=open]:before:bg-(--ui-bg-elevated)/50","transition-colors before:transition-colors"],itemLeadingIcon:["text-(--ui-text-dimmed) group-data-highlighted:text-(--ui-text) group-data-[state=open]:text-(--ui-text)","transition-colors"]}},loading:{true:{itemLeadingIcon:"animate-spin"}},size:{xs:{label:"p-1 text-xs gap-1",item:"p-1 text-xs gap-1",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},sm:{label:"p-1.5 text-xs gap-1.5",item:"p-1.5 text-xs gap-1.5",itemLeadingIcon:"size-4",itemLeadingAvatarSize:"3xs",itemTrailingIcon:"size-4",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"sm"},md:{label:"p-1.5 text-sm gap-1.5",item:"p-1.5 text-sm gap-1.5",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-0.5",itemTrailingKbdsSize:"md"},lg:{label:"p-2 text-sm gap-2",item:"p-2 text-sm gap-2",itemLeadingIcon:"size-5",itemLeadingAvatarSize:"2xs",itemTrailingIcon:"size-5",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"md"},xl:{label:"p-2 text-base gap-2",item:"p-2 text-base gap-2",itemLeadingIcon:"size-6",itemLeadingAvatarSize:"xs",itemTrailingIcon:"size-6",itemTrailingKbds:"gap-1",itemTrailingKbdsSize:"lg"}}},compoundVariants:[{color:"primary",active:!1,class:{item:"text-(--ui-primary) data-highlighted:text-(--ui-primary) data-highlighted:before:bg-(--ui-primary)/10 data-[state=open]:before:bg-(--ui-primary)/10",itemLeadingIcon:"text-(--ui-primary)/75 group-data-highlighted:text-(--ui-primary) group-data-[state=open]:text-(--ui-primary)"}},{color:"secondary",active:!1,class:{item:"text-(--ui-secondary) data-highlighted:text-(--ui-secondary) data-highlighted:before:bg-(--ui-secondary)/10 data-[state=open]:before:bg-(--ui-secondary)/10",itemLeadingIcon:"text-(--ui-secondary)/75 group-data-highlighted:text-(--ui-secondary) group-data-[state=open]:text-(--ui-secondary)"}},{color:"success",active:!1,class:{item:"text-(--ui-success) data-highlighted:text-(--ui-success) data-highlighted:before:bg-(--ui-success)/10 data-[state=open]:before:bg-(--ui-success)/10",itemLeadingIcon:"text-(--ui-success)/75 group-data-highlighted:text-(--ui-success) group-data-[state=open]:text-(--ui-success)"}},{color:"info",active:!1,class:{item:"text-(--ui-info) data-highlighted:text-(--ui-info) data-highlighted:before:bg-(--ui-info)/10 data-[state=open]:before:bg-(--ui-info)/10",itemLeadingIcon:"text-(--ui-info)/75 group-data-highlighted:text-(--ui-info) group-data-[state=open]:text-(--ui-info)"}},{color:"warning",active:!1,class:{item:"text-(--ui-warning) data-highlighted:text-(--ui-warning) data-highlighted:before:bg-(--ui-warning)/10 data-[state=open]:before:bg-(--ui-warning)/10",itemLeadingIcon:"text-(--ui-warning)/75 group-data-highlighted:text-(--ui-warning) group-data-[state=open]:text-(--ui-warning)"}},{color:"error",active:!1,class:{item:"text-(--ui-error) data-highlighted:text-(--ui-error) data-highlighted:before:bg-(--ui-error)/10 data-[state=open]:before:bg-(--ui-error)/10",itemLeadingIcon:"text-(--ui-error)/75 group-data-highlighted:text-(--ui-error) group-data-[state=open]:text-(--ui-error)"}},{color:"primary",active:!0,class:{item:"text-(--ui-primary) before:bg-(--ui-primary)/10",itemLeadingIcon:"text-(--ui-primary)"}},{color:"secondary",active:!0,class:{item:"text-(--ui-secondary) before:bg-(--ui-secondary)/10",itemLeadingIcon:"text-(--ui-secondary)"}},{color:"success",active:!0,class:{item:"text-(--ui-success) before:bg-(--ui-success)/10",itemLeadingIcon:"text-(--ui-success)"}},{color:"info",active:!0,class:{item:"text-(--ui-info) before:bg-(--ui-info)/10",itemLeadingIcon:"text-(--ui-info)"}},{color:"warning",active:!0,class:{item:"text-(--ui-warning) before:bg-(--ui-warning)/10",itemLeadingIcon:"text-(--ui-warning)"}},{color:"error",active:!0,class:{item:"text-(--ui-error) before:bg-(--ui-error)/10",itemLeadingIcon:"text-(--ui-error)"}}],defaultVariants:{size:"md"}};F(oe)();const Oe=Z({__name:"DropdownMenuContent",props:{items:{},portal:{type:Boolean},sub:{type:Boolean},labelKey:{},checkedIcon:{},loadingIcon:{},externalIcon:{type:[Boolean,String]},class:{},ui:{},uiOverride:{},loop:{type:Boolean},side:{},sideOffset:{},align:{},alignOffset:{},avoidCollisions:{type:Boolean},collisionBoundary:{},collisionPadding:{},arrowPadding:{},sticky:{},hideWhenDetached:{type:Boolean},positionStrategy:{},updatePositionStrategy:{},disableUpdateOnLayoutShift:{type:Boolean},prioritizePosition:{type:Boolean},reference:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","closeAutoFocus"],setup(g,{emit:r}){const o=g,w=r,v=ee(),I=ne(),f=ae(re(o,"sub","items","portal","labelKey","checkedIcon","loadingIcon","externalIcon","class","ui","uiOverride"),w),m=te(v,["default"]),[O,L]=Le(),u=D(()=>{var e;return(e=o.items)!=null&&e.length?ge(o.items)?o.items:[o.items]:[]});return(e,R)=>(n(),$(M,null,[s(i(O),null,{default:l(({item:a,active:c,index:h})=>[z(e.$slots,a.slot||"item",{item:a,index:h},()=>{var t,x,T;return[z(e.$slots,a.slot?`${a.slot}-leading`:"item-leading",{item:a,active:c,index:h},()=>{var b,K,A,_;return[a.loading?(n(),d(C,{key:0,name:e.loadingIcon||i(I).ui.icons.loading,class:p(e.ui.itemLeadingIcon({class:(b=e.uiOverride)==null?void 0:b.itemLeadingIcon,color:a==null?void 0:a.color,loading:!0}))},null,8,["name","class"])):a.icon?(n(),d(C,{key:1,name:a.icon,class:p(e.ui.itemLeadingIcon({class:(K=e.uiOverride)==null?void 0:K.itemLeadingIcon,color:a==null?void 0:a.color,active:c}))},null,8,["name","class"])):a.avatar?(n(),d(G,S({key:2,size:((A=o.uiOverride)==null?void 0:A.itemLeadingAvatarSize)||e.ui.itemLeadingAvatarSize()},a.avatar,{class:e.ui.itemLeadingAvatar({class:(_=e.uiOverride)==null?void 0:_.itemLeadingAvatar,active:c})}),null,16,["size","class"])):U("",!0)]}),i(N)(a,o.labelKey)||v[a.slot?`${a.slot}-label`:"item-label"]?(n(),$("span",{key:0,class:p(e.ui.itemLabel({class:(t=e.uiOverride)==null?void 0:t.itemLabel,active:c}))},[z(e.$slots,a.slot?`${a.slot}-label`:"item-label",{item:a,active:c,index:h},()=>[pe(E(i(N)(a,o.labelKey)),1)]),a.target==="_blank"&&e.externalIcon!==!1?(n(),d(C,{key:0,name:typeof e.externalIcon=="string"?e.externalIcon:i(I).ui.icons.external,class:p(e.ui.itemLabelExternalIcon({class:(x=e.uiOverride)==null?void 0:x.itemLabelExternalIcon,color:a==null?void 0:a.color,active:c}))},null,8,["name","class"])):U("",!0)],2)):U("",!0),y("span",{class:p(e.ui.itemTrailing({class:(T=e.uiOverride)==null?void 0:T.itemTrailing}))},[z(e.$slots,a.slot?`${a.slot}-trailing`:"item-trailing",{item:a,active:c,index:h},()=>{var b,K,A,_;return[(b=a.children)!=null&&b.length?(n(),d(C,{key:0,name:i(I).ui.icons.chevronRight,class:p(e.ui.itemTrailingIcon({class:(K=e.uiOverride)==null?void 0:K.itemTrailingIcon,color:a==null?void 0:a.color,active:c}))},null,8,["name","class"])):(A=a.kbds)!=null&&A.length?(n(),$("span",{key:1,class:p(e.ui.itemTrailingKbds({class:(_=e.uiOverride)==null?void 0:_.itemTrailingKbds}))},[(n(!0),$(M,null,V(a.kbds,(P,B)=>{var j;return n(),d(we,S({key:B,size:((j=o.uiOverride)==null?void 0:j.itemTrailingKbdsSize)||e.ui.itemTrailingKbdsSize(),ref_for:!0},typeof P=="string"?{value:P}:P),null,16,["size"])}),128))],2)):U("",!0)]}),s(i(k).ItemIndicator,{"as-child":""},{default:l(()=>{var b;return[s(C,{name:e.checkedIcon||i(I).ui.icons.check,class:p(e.ui.itemTrailingIcon({class:(b=e.uiOverride)==null?void 0:b.itemTrailingIcon,color:a==null?void 0:a.color}))},null,8,["name","class"])]}),_:2},1024)],2)]})]),_:3}),s(i(k).Portal,{disabled:!e.portal},{default:l(()=>[(n(),d(le(e.sub?i(k).SubContent:i(k).Content),S({class:o.class},i(f)),{default:l(()=>[(n(!0),$(M,null,V(u.value,(a,c)=>{var h;return n(),d(i(k).Group,{key:`group-${c}`,class:p(e.ui.group({class:(h=e.uiOverride)==null?void 0:h.group}))},{default:l(()=>[(n(!0),$(M,null,V(a,(t,x)=>{var T,b,K,A;return n(),$(M,{key:`group-${c}-${x}`},[t.type==="label"?(n(),d(i(k).Label,{key:0,class:p(e.ui.label({class:(T=e.uiOverride)==null?void 0:T.label}))},{default:l(()=>[s(i(L),{item:t,index:x},null,8,["item","index"])]),_:2},1032,["class"])):t.type==="separator"?(n(),d(i(k).Separator,{key:1,class:p(e.ui.separator({class:(b=e.uiOverride)==null?void 0:b.separator}))},null,8,["class"])):(K=t==null?void 0:t.children)!=null&&K.length?(n(),d(i(k).Sub,{key:2,open:t.open,"default-open":t.defaultOpen},{default:l(()=>{var _;return[s(i(k).SubTrigger,{as:"button",type:"button",disabled:t.disabled,"text-value":i(N)(t,o.labelKey),class:p(e.ui.item({class:(_=e.uiOverride)==null?void 0:_.item,color:t==null?void 0:t.color}))},{default:l(()=>[s(i(L),{item:t,index:x},null,8,["item","index"])]),_:2},1032,["disabled","text-value","class"]),s(se,S({sub:"",class:o.class,ui:e.ui,"ui-override":e.uiOverride,portal:e.portal,items:t.children,side:"right",align:"start","align-offset":-4,"side-offset":3,"label-key":e.labelKey,"checked-icon":e.checkedIcon,"loading-icon":e.loadingIcon,"external-icon":e.externalIcon,ref_for:!0},t.content),ie({_:2},[V(i(m),(P,B)=>({name:B,fn:l(j=>[z(e.$slots,B,S({ref_for:!0},j))])}))]),1040,["class","ui","ui-override","portal","items","label-key","checked-icon","loading-icon","external-icon"])]}),_:2},1032,["open","default-open"])):t.type==="checkbox"?(n(),d(i(k).CheckboxItem,{key:3,"model-value":t.checked,disabled:t.disabled,"text-value":i(N)(t,o.labelKey),class:p(e.ui.item({class:[(A=e.uiOverride)==null?void 0:A.item,t.class],color:t==null?void 0:t.color})),"onUpdate:modelValue":t.onUpdateChecked,onSelect:t.onSelect},{default:l(()=>[s(i(L),{item:t,index:x},null,8,["item","index"])]),_:2},1032,["model-value","disabled","text-value","class","onUpdate:modelValue","onSelect"])):(n(),d(i(k).Item,{key:4,"as-child":"",disabled:t.disabled,"text-value":i(N)(t,o.labelKey),onSelect:t.onSelect},{default:l(()=>[s(ce,S({ref_for:!0},i(de)(t),{custom:""}),{default:l(({active:_,...P})=>{var B;return[s(ue,S({ref_for:!0},P,{class:e.ui.item({class:[(B=e.uiOverride)==null?void 0:B.item,t.class],color:t==null?void 0:t.color,active:_})}),{default:l(()=>[s(i(L),{item:t,active:_,index:x},null,8,["item","active","index"])]),_:2},1040,["class"])]}),_:2},1040)]),_:2},1032,["disabled","text-value","onSelect"]))],64)}),128))]),_:2},1032,["class"])}),128)),z(e.$slots,"default")]),_:3},16,["class"]))]),_:3},8,["disabled"])],64))}}),se=Object.assign(Oe,{__name:"UDropdownMenuContent"}),Te=fe;var H;const Ke=F({extend:F(oe),...((H=Te.ui)==null?void 0:H.dropdownMenu)||{}}),Ae=Z({__name:"DropdownMenu",props:{size:{},items:{},checkedIcon:{},loadingIcon:{},externalIcon:{type:[Boolean,String],default:!0},content:{},arrow:{type:[Boolean,Object]},portal:{type:Boolean,default:!0},labelKey:{default:"label"},disabled:{type:Boolean},class:{},ui:{},defaultOpen:{type:Boolean},open:{type:Boolean},modal:{type:Boolean,default:!0}},emits:["update:open"],setup(g,{emit:r}){const o=g,w=r,v=ee(),I=ae(me(o,"defaultOpen","open","modal"),w),f=J(()=>be(o.content,{side:"bottom",sideOffset:8,collisionPadding:8})),m=J(()=>o.arrow),O=te(v,["default"]),L=D(()=>Ke({size:o.size}));return(u,e)=>(n(),d(i(Ie),Q(X(i(I))),{default:l(({open:R})=>{var a;return[v.default?(n(),d(i(_e),{key:0,"as-child":"",class:p(o.class),disabled:u.disabled},{default:l(()=>[z(u.$slots,"default",{open:R})]),_:2},1032,["class","disabled"])):U("",!0),s(se,S({class:L.value.content({class:[!v.default&&o.class,(a=o.ui)==null?void 0:a.content]}),ui:L.value,"ui-override":o.ui},f.value,{items:u.items,portal:u.portal,"label-key":u.labelKey,"checked-icon":u.checkedIcon,"loading-icon":u.loadingIcon,"external-icon":u.externalIcon}),ie({default:l(()=>{var c;return[u.arrow?(n(),d(i(ke),S({key:0},m.value,{class:L.value.arrow({class:(c=o.ui)==null?void 0:c.arrow})}),null,16,["class"])):U("",!0)]}),_:2},[V(i(O),(c,h)=>({name:h,fn:l(t=>[z(u.$slots,h,Q(X(t)))])}))]),1040,["class","ui","ui-override","items","portal","label-key","checked-icon","loading-icon","external-icon"])]}),_:3},16))}}),$e=Object.assign(Ae,{__name:"UDropdownMenu"}),q={__name:"DNavLinkMobile",props:{to:{type:String,required:!0},avatar:{type:String,required:!1},avatarAlt:{type:String,required:!1},icon:{type:String,required:!1},label:{type:String,required:!0},class:{type:String,default:""}},setup(g){const r=g,o=Y(),w=D(()=>o.path===r.to||r.to!=="/"&&o.path.startsWith(r.to)),v=D(()=>r.class);return(I,f)=>{const m=G,O=W;return n(),d(O,{to:g.to,class:p(["flex flex-col items-center justify-center space-y-1 px-3 py-1 text-xs transition-all",i(w)?"text-amber-600 dark:text-amber-400":"text-gray-700 dark:text-gray-300"]),style:he(i(v)?{}:{})},{default:l(()=>[s(m,{src:g.avatar,alt:g.avatarAlt,icon:g.icon,class:"size-6"},null,8,["src","alt","icon"]),y("span",null,E(g.label),1)]),_:1},8,["to","class","style"])}}},Be={class:"min-h-screen relative"},Ce={class:"hidden md:flex fixed top-0 left-0 right-0 backdrop-blur-md shadow-sm z-50 px-4"},De={class:"container mx-auto flex justify-between items-center h-16"},Pe={class:"flex items-center gap-1"},Ue={class:"flex items-center gap-3"},Me={class:"ml-2 hidden lg:inline"},Ne={class:"md:pt-16 pb-20 md:pb-0 min-h-screen"},qe={class:"md:hidden fixed bottom-0 left-0 right-0 bg-white/30 dark:bg-indigo-950/30 backdrop-blur-md shadow-[0_-2px_10px_rgba(0,0,0,0.05)] dark:shadow-[0_-2px_10px_rgba(0,0,0,0.2)] z-50"},Ve={class:"flex justify-around items-start pt-2 h-20"},Ze={__name:"authenticated",setup(g){const r=ye(),o=D(()=>{var f,m;return(f=r.value)!=null&&f.identities?r.value.identities[0].identity_data.full_name||r.value.identities[0].identity_data.name:(m=r.value)!=null&&m.user_metadata?r.value.user_metadata.full_name||r.value.user_metadata.name:"Mon Compte"}),w=D(()=>[[{label:o.value,slot:"account",disabled:!0},{label:"Mon profil",icon:"i-heroicons-user-circle",to:"/profile"}],[{label:"Déconnexion",icon:"i-heroicons-arrow-right-on-rectangle",onSelect:()=>I()}]]),{auth:v}=Se(),I=async()=>{try{await v.signOut({scope:"local"}),xe("/landing")}catch(f){console.error("Error logging out:",f)}};return(f,m)=>{var c,h;const O=C,L=W,u=ze,e=G,R=ve,a=$e;return n(),$("div",Be,[m[1]||(m[1]=y("div",{class:"-z-1 absolute inset-0 bg-fixed bg-cover bg-center dark:[background-image:radial-gradient(125%_125%_at_50%_10%,#000_40%,#63e_100%)] [background-image:radial-gradient(125%_125%_at_50%_10%,#fee685_4%,#fff_50%)]"},null,-1)),y("nav",Ce,[y("div",De,[s(L,{to:"/",class:"flex items-center gap-2 group"},{default:l(()=>[s(O,{name:"i-tabler-paw",class:"text-amber-500 h-6 w-6"}),m[0]||(m[0]=y("span",{class:"text-lg font-semibold text-gray-900 dark:text-white"},"PawData",-1))]),_:1}),y("div",Pe,[s(u,{to:"/",icon:"i-heroicons-home",label:"Accueil"}),s(u,{to:"/stats",icon:"i-heroicons-chart-bar",label:"Statistiques"}),s(u,{to:"/calendar",icon:"i-heroicons-calendar",label:"Calendrier"}),s(u,{to:"/settings",icon:"i-heroicons-cog-6-tooth",label:"Paramètres"})]),y("div",Ue,[s(a,{items:i(w),popper:{placement:"bottom-end"}},{default:l(()=>[s(R,{variant:"link",class:"rounded-full cursor-pointer"},{default:l(()=>{var t,x,T,b;return[s(e,{src:(x=(t=i(r))==null?void 0:t.user_metadata)==null?void 0:x.avatar_url,alt:((b=(T=i(r))==null?void 0:T.user_metadata)==null?void 0:b.full_name)||"",size:"sm"},null,8,["src","alt"]),y("span",Me,E(i(o)),1),s(O,{name:"i-heroicons-chevron-down",class:"ml-1 text-xs"})]}),_:1})]),_:1},8,["items"])])])]),y("main",Ne,[z(f.$slots,"default")]),y("nav",qe,[y("div",Ve,[s(q,{to:"/",icon:"i-heroicons-home",label:"Accueil"}),s(q,{to:"/stats",icon:"i-heroicons-chart-bar",label:"Stats"}),s(q,{to:"/calendar",icon:"i-heroicons-calendar",label:"Agenda"}),s(q,{to:"/settings",icon:"i-heroicons-cog-6-tooth",label:"Réglages"}),s(q,{to:"/profile",avatar:(h=(c=i(r))==null?void 0:c.user_metadata)==null?void 0:h.avatar_url,icon:"i-heroicons-user",label:"Profile"},null,8,["avatar"])])])])}}};export{Ze as default};
